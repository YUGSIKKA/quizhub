{% extends "base.html" %}
{% block content %}

<div class="container mt-4">
    <h2>Search Results</h2>

    {% if query %}
        <p>You searched for: <strong>{{ query }}</strong></p>

        {% if resource_results or quiz_results %}
            {% if resource_results %}
                <h4 class="mt-3">Resources</h4>
                <ul class="list-group mb-4">
                    {% for item in resource_results %}
                        <li class="list-group-item">
                            <h5>{{ item.title }}</h5>
                            <p>{{ item.description }}</p>
                            {% if item.file %}
                                <a href="{{ item.file.url }}" target="_blank">Download File</a>
                            {% endif %}
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}

            {% if quiz_results %}
                <h4 class="mt-3">Quizzes</h4>
                <ul class="list-group">
                    {% for quiz in quiz_results %}
                        <li class="list-group-item">
                            <a href="{% url 'attempt_quiz' quiz.id %}">{{ quiz.title }}</a>
                            <p>{{ quiz.description|truncatechars:120 }}</p>
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% else %}
            <p>No results found.</p>
        {% endif %}
    {% endif %}
</div>

{% endblock %}